"use strict";(self.webpackChunkbr_frontend=self.webpackChunkbr_frontend||[]).push([[651],{9894:function(e,n,t){t.d(n,{Z:function(){return r}});var a={main:"Button_main__uCMI5",transparent:"Button_transparent__33FBX Button_main__uCMI5"},i=t(184),r=function(e){var n=e.className,t=e.type,r=void 0===t?"button":t,s=e.text,o=e.onClick,l=e.disabled,c=void 0!==l&&l,d=e.tabIndex,u=e.autoFocus;return(0,i.jsx)("button",{className:"".concat(a[n]),type:r,onClick:o||null,disabled:c,tabIndex:d,autoFocus:u,children:s})}},3263:function(e,n,t){t.d(n,{k:function(){return _}});var a=t(3433),i="Chart_container__F837V",r="Chart_chart__title__2Sd6S",s="Chart_trainigPlan__title__pR5-M",o=t(3168),l=t(6305),c=t(9683),d=t(184);l.kL.register(l.uw,l.f$,l.od,l.jn,l.Dx,l.u,l.De);var u=function(e){var n={id:"customLegend",afterDraw:function(n,t,a){var i,r,s=n._metasets,o=n.ctx;o.font="bold 12px Montserat",o.textBaseLine="middle",o.textAlign="center",s.forEach((function(e){o.fillStyle=e._dataset.borderColor,i=e.data[e.data.length-1].x-5*e._dataset.label.length,r=e.data[e.data.length-1].y-10,o.fillText(e._dataset.label,i,r)})),o.fillStyle="#091E3F",o.fillText(e("statistics.time"),i,n.chartArea.height+23)}};return n},_=function(e){var n=e.plan,t=e.readingStatistics,l=(0,o.$)().t,_=t.map((function(e){return e.date})),h=t.map((function(e){return e.pageAmount})),m=1===h.length?[].concat((0,a.Z)(h),(0,a.Z)(h)):h,g=Math.max.apply(Math,(0,a.Z)(m)),f=[n,n];1===_.length&&(f=[].concat((0,a.Z)(_),(0,a.Z)(_))),_.length>1&&(f=_);var x=2*n>g?2*n:g+=.1*g,p={responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:20}},plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!1}},y:{min:0===n?-5:1,max:0===n?5:x,ticks:{display:!1},grid:{display:!1}}}},j={labels:f,datasets:[{label:l("statistics.plan"),data:m.length>0?(0,a.Z)(m.map((function(e){return n}))):[n,n],backgroundColor:"#F5F7FA",borderColor:"rgb(0, 0, 0)",pointBorderColor:"rgb(0, 0, 0)",pointBorderWidth:4}]};return m.length>0&&j.datasets.push({label:"ACT",data:m,backgroundColor:"#F5F7FA",borderColor:"#FF6B08",pointBorderColor:"#FF6B08",pointBorderWidth:4,tension:.3}),(0,d.jsxs)("div",{className:i,children:[(0,d.jsxs)("p",{className:r,children:[l("statistics.amountPagesDay"),(0,d.jsx)("span",{className:s,children:n})]}),(0,d.jsx)(c.x1,{options:p,data:j,plugins:[u(l)]})]})}},3087:function(e,n,t){t.d(n,{Z:function(){return r}});var a="Container_container__VVOCq",i=t(184),r=function(e){var n=e.children;return(0,i.jsx)("div",{className:a,children:n})}},8641:function(e,n,t){t.d(n,{Z:function(){return l}});var a={containerTwoGoals:"MyGoals_containerTwoGoals__01LkU",containerThreeGoals:"MyGoals_containerThreeGoals__1EOIQ MyGoals_containerTwoGoals__01LkU MyGoals_containerTwoGoals__01LkU",allTwoGoals:"MyGoals_allTwoGoals__BdKM6",allThreeGoals:"MyGoals_allThreeGoals__RIe0G MyGoals_allTwoGoals__BdKM6",twoGoals:"MyGoals_twoGoals__5FwJw",threeGoals:"MyGoals_threeGoals__J44wd"},i=t(3168),r=t(184),s=function(e){var n=e.header,t=e.amount;return(0,r.jsxs)("div",{className:a.twoGoals,children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("h4",{children:n})]})},o=function(e){var n=e.header,t=e.amount;return(0,r.jsxs)("div",{className:a.threeGoals,children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("h4",{children:n})]})},l=function(e){var n=e.bookAmount,t=void 0===n?0:n,l=e.daysAmount,c=void 0===l?0:l,d=e.booksLeft,u=void 0===d?0:d,_=e.showBooksLeft,h=void 0!==_&&_,m=(0,i.$)().t,g=u>0?"containerThreeGoals":"containerTwoGoals",f=h?"allThreeGoals":"allTwoGoals";return(0,r.jsxs)("div",{className:a[g],children:[(0,r.jsx)("h2",{children:m("training.myGoals")}),(0,r.jsx)("div",{className:a[f],children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{header:m("training.books"),amount:t}),(0,r.jsx)(o,{header:m("training.days"),amount:c}),(0,r.jsx)(o,{header:m("training.booksLeft"),amount:u})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{header:m("training.books"),amount:t}),(0,r.jsx)(s,{header:m("training.days"),amount:c})]})})]})}},4215:function(e,n){n.Z=function(e,n){return Math.round((new Date(n)-new Date(e))/864e5)}},97:function(e,n,t){var a=t(9439),i=t(2791),r=function(){return window.innerWidth<=767};n.Z=function(){var e=(0,i.useState)(r()),n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,i.useEffect)((function(){var e=function(){s(r())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}},4651:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(1413),i=t(3433),r=t(9439),s=t(2791),o=t(7689),l=t(3168),c=t(7020),d=t(657),u=t(4215),_=function(e){var n;return null!==(n=e.reduce((function(e,n){return e+n.amountOfPages}),0))&&void 0!==n?n:0},h="TrainingView_training__wyM6o",m="TrainingView_addPageBtn__Sp6RR",g="TrainingView_arrowButton__swzfL",f="TrainingView_wrapperContainer__Kf7rG",x="TrainingView_buttonWrapper__Bda5Q",p=t(3087),j=t(8641),b=t(5987),v=t(9513),k=t.n(v),T=t(5705),N=(t(8639),"DatePicker_dateWrapper__W5TMO"),y="DatePicker_dateInput__hpPgD",w="DatePicker_dateIcon__x6LRw",C="DatePicker_dateArrow__RSnRt",F=t(7425),L=t(6036),Z=t(184),B=["onChange"],D=function(e){var n=e.onChange,t=(0,b.Z)(e,B),i=(0,T.u6)().setFieldValue,s=(0,T.U$)(t),o=(0,r.Z)(s,1)[0];return(0,Z.jsxs)("div",{className:N,children:[(0,Z.jsx)(k(),(0,a.Z)((0,a.Z)((0,a.Z)({className:y},o),t),{},{selected:o.value&&new Date(o.value)||null,onChange:function(e){i(o.name,e),n(e.toDateString())}})),(0,Z.jsx)(F.FVH,{className:w}),(0,Z.jsx)(L.dbR,{className:C})]})},G={bookPlaceholder:"TrainingForm_bookPlaceholder__ag4pJ",title:"TrainingForm_title__LaU0d",dateContainer:"TrainingForm_dateContainer__J76s1",bookLabel:"TrainingForm_bookLabel__Auc77",date:"TrainingForm_date__xEjcd",error:"TrainingForm_error__No8mr",bookInput:"TrainingForm_bookInput__HAiIW",arrow:"TrainingForm_arrow__-xFAp",btnAdd:"TrainingForm_btnAdd__59NTI",selectOption:"TrainingForm_selectOption__nYzXz",form:"TrainingForm_form__Qmw18"},M=t(1724),A={startDate:"",finishDate:"",books:""},S=function(e){var n=e.onStartDateChange,t=e.onFinishDateChange,a=e.goingToReadBooks,i=e.onBtnAddClick,o=M.Ry().shape({start:M.hT().required("Enter the first day of training"),finish:M.hT().required("Enter the last day of training"),book:M.Ry().required("Choose one book")}),c=(0,l.$)().t,d=(0,s.useState)(null),u=(0,r.Z)(d,2),_=u[0],h=u[1],m=(0,s.useRef)();return(0,Z.jsx)(T.J9,{initialValues:A,validationSchema:o,children:function(e){e.values;var r=e.handleChange;return(0,Z.jsxs)(T.l0,{autoComplete:"off",children:[(0,Z.jsx)("h1",{className:G.title,children:c("training.myTraining")}),(0,Z.jsxs)("div",{className:G.dateContainer,children:[(0,Z.jsxs)("div",{className:G.date,children:[(0,Z.jsx)(D,{name:"start",minDate:new Date,onChange:function(e){r(e),h(e),n(e)},dateFormat:"dd-MM-yyyy",placeholderText:c("training.start"),autoComplete:"off",required:!0}),(0,Z.jsx)("span",{className:G.error,children:(0,Z.jsx)(T.Bc,{className:G.eerror,name:"start"})})]}),(0,Z.jsxs)("div",{className:G.date,children:[(0,Z.jsx)(D,{name:"finish",minDate:new Date(_).setDate(new Date(_).getDate()+1),maxDate:new Date(_).setDate(new Date(_).getDate()+32),onChange:t,dateFormat:"dd-MM-yyyy",placeholderText:c("training.finish"),autoComplete:"off",required:!0}),(0,Z.jsx)("span",{className:G.error,children:(0,Z.jsx)(T.Bc,{name:"finish"})})]})]}),(0,Z.jsxs)("div",{className:G.bookLabel,children:[(0,Z.jsxs)(T.gN,{as:"select",name:"book",className:G.bookInput,defaultValue:"default",innerRef:m,children:[(0,Z.jsx)("option",{value:"default",className:G.selectOption,disabled:!0,children:c("training.chooseBooks")}),null===a||void 0===a?void 0:a.map((function(e){var n=e._id,t=e.bookTitle;return(0,Z.jsx)("option",{value:t,children:t},n)}))]}),(0,Z.jsx)("span",{className:G.error,children:(0,Z.jsx)(T.Bc,{name:"pages"})}),(0,Z.jsx)("button",{type:"button",className:G.btnAdd,onClick:function(){var e=m.current.value;"default"!==e&&e&&i(a.find((function(e){return e.bookTitle===m.current.value})))},children:c("library.add")})]})]})}})},E=t(3263),R={listHeader:"TrainingList_listHeader__p4fA0",header:"TrainingList_header__OXHYa",item:"TrainingList_item__cepZ5",list:"TrainingList_list__CNn7k",itemBook:"TrainingList_itemBook__EOXLL",subtitle:"TrainingList_subtitle__jNKdW",dots:"TrainingList_dots__+1OQP",author:"TrainingList_author__P-Dot",plug:"TrainingList_plug__kEjwN TrainingList_item__cepZ5",trainingWrapper:"TrainingList_trainingWrapper__FAu2J"};var P=t.p+"static/media/sprite.9a6bdf739ef0423fea6eda070916b75c.svg",I=function(e){var n=e.trainingBooks,t=(e.isActiveTraining,e.deleteBookFromList),a=(0,l.$)().t,i=[a("library.title"),a("library.author"),a("library.year"),a("library.pages")];return(0,Z.jsxs)("div",{className:R.trainingWrapper,children:[(0,Z.jsx)("ul",{className:R.header,children:i.map((function(e){return(0,Z.jsx)("li",{className:R.header_item,children:e},e)}))}),(0,Z.jsxs)("ul",{className:R.list,children:[null===n||void 0===n?void 0:n.map((function(e,n){var a=e._id,i=e.bookTitle,r=e.author,s=e.amountOfPages,o=e.publicationDate;return(0,Z.jsxs)("li",{className:R.item,children:[(0,Z.jsx)("svg",{className:R.icon_book,width:"22",height:"17",children:(0,Z.jsx)("use",{href:"".concat(P,"#icon-grey-book")})}),(0,Z.jsx)("p",{className:R.title,children:i}),(0,Z.jsx)("p",{children:r}),(0,Z.jsx)("p",{children:o}),(0,Z.jsx)("p",{children:s}),(0,Z.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){t(a)},className:R.icon_delete,width:"22",height:"17",children:(0,Z.jsx)("use",{href:"".concat(P,"#icon-delete")})})]},n)})),(0,Z.jsxs)("li",{className:R.plug,children:[(0,Z.jsx)("svg",{className:R.icon,width:"22",height:"17",children:(0,Z.jsx)("use",{href:"".concat(P,"#icon-grey-book")})}),(0,Z.jsx)("p",{children:"..."})]})]})]})},O=t(9962),V=t(9894),W={list:"TrainingMobileList_list__zBAF9",infoUp:"TrainingMobileList_infoUp__2L7fp",info:"TrainingMobileList_info__RHkPG",item:"TrainingMobileList_item__NFdvE",list_item:"TrainingMobileList_list_item__Glbj5",icon:"TrainingMobileList_icon__uH0b6",title:"TrainingMobileList_title__QJxdY",subtitle:"TrainingMobileList_subtitle__ukiBh"},J=function(e){var n=e.trainingBooks,t=(e.isActiveTraining,e.deleteBookFromList),a=(0,l.$)().t;return(0,Z.jsx)("div",{className:W.trainingWrapper,children:(0,Z.jsx)("ul",{className:W.list,children:null===n||void 0===n?void 0:n.map((function(e,n){var i=e._id,r=e.bookTitle,s=e.author,o=e.amountOfPages,l=e.publicationDate;return(0,Z.jsxs)("li",{className:W.list_item,children:[(0,Z.jsxs)("div",{className:W.infoUp,children:[(0,Z.jsxs)("p",{className:W.title,children:[(0,Z.jsx)("svg",{className:W.icon,width:"22",height:"17",children:(0,Z.jsx)("use",{href:"".concat(P,"#icon-grey-book")})}),r]}),(0,Z.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){t(i)},className:W.icon,width:"22",height:"17",children:(0,Z.jsx)("use",{href:"".concat(P,"#icon-delete")})})]}),(0,Z.jsxs)("div",{className:W.info,children:[(0,Z.jsxs)("p",{className:W.item,children:[(0,Z.jsxs)("span",{className:W.subtitle,children:[a("library.author"),":"]}),s]}),(0,Z.jsxs)("p",{className:W.item,children:[(0,Z.jsxs)("span",{className:W.subtitle,children:[a("library.year"),":"]}),l]}),(0,Z.jsxs)("p",{className:W.item,children:[(0,Z.jsxs)("span",{className:W.subtitle,children:[a("library.pages"),":"]}),o]})]})]},n)}))})})},U=t(97),$=t(9126),H=function(){var e,n=(0,s.useState)(null),t=(0,r.Z)(n,2),b=t[0],v=t[1],k=(0,s.useState)(null),T=(0,r.Z)(k,2),N=T[0],y=T[1],w=(0,s.useState)([]),C=(0,r.Z)(w,2),F=C[0],L=C[1],B=(0,s.useState)(0),D=(0,r.Z)(B,2),G=D[0],M=D[1],A=(0,s.useState)(0),R=(0,r.Z)(A,2),P=R[0],W=R[1],H=(0,c.jd)(),q=(0,r.Z)(H,1)[0],z=(0,l.$)().t,Q=(0,s.useState)(!1),K=(0,r.Z)(Q,2),X=K[0],Y=K[1],ee=(0,d.FR)(),ne=ee.data,te=ee.isLoading,ae=(0,o.s0)(),ie=(0,d.k0)(),re=(0,r.Z)(ie,2),se=re[0],oe=re[1].isLoading;(0,s.useEffect)((function(){ne&&ae("/statistics")}),[ae,ne]),(0,s.useEffect)((function(){b&&N&&W((0,u.Z)(b,N))}),[N,b]),(0,s.useEffect)((function(){F.length>0&&P>0?M(Math.round(_(F)/P)):M(0)}),[F,P]);var le=function(e){L(F.filter((function(n){return n._id!==e})))},ce=(0,c.QJ)().data,de=null!==(e=null===ce||void 0===ce?void 0:ce.filter((function(e){return"going_to_read"===e.status})).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isSelected:!1})})))&&void 0!==e?e:[],ue=(0,U.Z)(),_e=!!(b&&N&&F.length>0);return te?(0,Z.jsx)(O.Z,{}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(p.Z,{children:[(0,Z.jsxs)("div",{className:h,children:[!X&&(0,Z.jsx)(j.Z,{bookAmount:F.length,daysAmount:P}),(0,Z.jsxs)("div",{className:f,children:[(!ue||X)&&(0,Z.jsx)(S,{goingToReadBooks:de.filter((function(e){return!F.map((function(e){return e._id})).includes(e._id)})),onStartDateChange:v,onFinishDateChange:y,onBtnAddClick:function(e){L([].concat((0,i.Z)(F),[(0,a.Z)((0,a.Z)({},e),{},{isSelected:!0})]))}}),!X&&!ue&&(0,Z.jsx)(I,{trainingBooks:F,deleteBookFromList:le}),ue&&!X&&(0,Z.jsx)(J,{trainingBooks:F,deleteBookFromList:le}),X&&(0,Z.jsx)($.And,{className:g,onClick:function(){return Y(!1)}}),_e&&!X&&(0,Z.jsx)("div",{className:x,children:(0,Z.jsx)(V.Z,{id:"startTraining",className:"main",text:z("training.startTraining"),onClick:function(){se({books:F.map((function(e){return e._id})),startDate:b,finishDate:N}),F.forEach((function(e){q((0,a.Z)((0,a.Z)({},e),{},{id:e._id,status:"reading_now"}))}))},onEnded:oe})})]})]}),!X&&(0,Z.jsx)(E.k,{plan:G,readingStatistics:[]}),ue&&(0,Z.jsx)("button",{type:"button",className:m,onClick:function(){return Y(!0)},children:"+"})]})})}}}]);
//# sourceMappingURL=651.d1f25b05.chunk.js.map