"use strict";(self.webpackChunkbr_frontend=self.webpackChunkbr_frontend||[]).push([[651],{9894:function(e,n,t){t.d(n,{Z:function(){return s}});var a={main:"Button_main__uCMI5",transparent:"Button_transparent__33FBX Button_main__uCMI5"},i=t(184),s=function(e){var n=e.className,t=e.type,s=void 0===t?"button":t,r=e.text,o=e.onClick,l=e.disabled,c=void 0!==l&&l,d=e.tabIndex,u=e.autoFocus;return(0,i.jsx)("button",{className:"".concat(a[n]),type:s,onClick:o||null,disabled:c,tabIndex:d,autoFocus:u,children:r})}},3263:function(e,n,t){t.d(n,{k:function(){return h}});var a=t(3433),i=t(3168),s="Chart_container__F837V",r="Chart_chart__title__2Sd6S",o="Chart_trainigPlan__title__pR5-M",l=t(6305),c=t(9683),d=t(184);l.kL.register(l.uw,l.f$,l.od,l.jn,l.Dx,l.u,l.De);var u=function(e){var n={id:"customLegend",afterDraw:function(n,t,a){var i,s,r=n._metasets,o=n.ctx;o.font="bold 12px Montserat",o.textBaseLine="middle",o.textAlign="center",r.forEach((function(e){o.fillStyle=e._dataset.borderColor,i=e.data[e.data.length-1].x-5*e._dataset.label.length,s=e.data[e.data.length-1].y-10,o.fillText(e._dataset.label,i,s)})),o.fillStyle="#091E3F",o.fillText(e("statistics.time"),i,n.chartArea.height+23)}};return n},h=function(e){var n=e.plan,t=e.readingStatistics,l=(0,i.$)().t,h=t.map((function(e){return e.date})),_=t.map((function(e){return e.pageAmount})),m=1===_.length?[].concat((0,a.Z)(_),(0,a.Z)(_)):_,g=Math.max.apply(Math,(0,a.Z)(m)),f=[n,n];1===h.length&&(f=[].concat((0,a.Z)(h),(0,a.Z)(h))),h.length>1&&(f=h);var x=2*n>g?2*n:g+=.1*g,p={responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:20}},plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!1}},y:{min:0===n?-5:1,max:0===n?5:x,ticks:{display:!1},grid:{display:!1}}}},j={labels:f,datasets:[{label:l("statistics.plan"),data:m.length>0?(0,a.Z)(m.map((function(e){return n}))):[n,n],backgroundColor:"#F5F7FA",borderColor:"rgb(0, 0, 0)",pointBorderColor:"rgb(0, 0, 0)",pointBorderWidth:4}]};return m.length>0&&j.datasets.push({label:"ACT",data:m,backgroundColor:"#F5F7FA",borderColor:"#FF6B08",pointBorderColor:"#FF6B08",pointBorderWidth:4,tension:.3}),(0,d.jsxs)("div",{className:s,children:[(0,d.jsxs)("p",{className:r,children:[l("statistics.amountPagesDay"),(0,d.jsx)("span",{className:o,children:n})]}),(0,d.jsx)(c.x1,{options:p,data:j,plugins:[u(l)]})]})}},3087:function(e,n,t){t.d(n,{Z:function(){return s}});var a="Container_container__VVOCq",i=t(184),s=function(e){var n=e.children;return(0,i.jsx)("div",{className:a,children:n})}},8641:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(3168),i={containerTwoGoals:"MyGoals_containerTwoGoals__01LkU",containerThreeGoals:"MyGoals_containerThreeGoals__1EOIQ MyGoals_containerTwoGoals__01LkU MyGoals_containerTwoGoals__01LkU",allTwoGoals:"MyGoals_allTwoGoals__BdKM6",allThreeGoals:"MyGoals_allThreeGoals__RIe0G MyGoals_allTwoGoals__BdKM6",twoGoals:"MyGoals_twoGoals__5FwJw",threeGoals:"MyGoals_threeGoals__J44wd"},s=t(184),r=function(e){var n=e.header,t=e.amount;return(0,s.jsxs)("div",{className:i.twoGoals,children:[(0,s.jsx)("p",{children:t}),(0,s.jsx)("h4",{children:n})]})},o=function(e){var n=e.header,t=e.amount;return(0,s.jsxs)("div",{className:i.threeGoals,children:[(0,s.jsx)("p",{children:t}),(0,s.jsx)("h4",{children:n})]})},l=function(e){var n=e.bookAmount,t=void 0===n?0:n,l=e.daysAmount,c=void 0===l?0:l,d=e.booksLeft,u=void 0===d?0:d,h=e.showBooksLeft,_=void 0!==h&&h,m=(0,a.$)().t,g=u>0?"containerThreeGoals":"containerTwoGoals",f=_?"allThreeGoals":"allTwoGoals";return(0,s.jsxs)("div",{className:i[g],children:[(0,s.jsx)("h2",{children:m("training.myGoals")}),(0,s.jsx)("div",{className:i[f],children:_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{header:m("training.books"),amount:t}),(0,s.jsx)(o,{header:m("training.days"),amount:c}),(0,s.jsx)(o,{header:m("training.booksLeft"),amount:u})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{header:m("training.books"),amount:t}),(0,s.jsx)(r,{header:m("training.days"),amount:c})]})})]})}},4215:function(e,n){n.Z=function(e,n){return Math.round((new Date(n)-new Date(e))/864e5)}},97:function(e,n,t){var a=t(9439),i=t(2791),s=function(){return window.innerWidth<=767};n.Z=function(){var e=(0,i.useState)(s()),n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,i.useEffect)((function(){var e=function(){r(s())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}},4651:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(1413),i=t(3433),s=t(9439),r=t(2791),o=t(7689),l=t(3168),c=t(9126),d=t(7020),u=t(657),h=t(3087),_=t(8641),m=t(5987),g=t(9513),f=t.n(g),x=t(5705),p=t(7425),j=t(6036),b=(t(8639),"DatePicker_dateWrapper__W5TMO"),v="DatePicker_dateInput__hpPgD",k="DatePicker_dateIcon__x6LRw",N="DatePicker_dateArrow__RSnRt",T=t(184),y=["onChange"],w=function(e){var n=e.onChange,t=(0,m.Z)(e,y),i=(0,x.u6)().setFieldValue,r=(0,x.U$)(t),o=(0,s.Z)(r,1)[0];return(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)(f(),(0,a.Z)((0,a.Z)((0,a.Z)({className:v},o),t),{},{selected:o.value&&new Date(o.value)||null,onChange:function(e){i(o.name,e),n(e.toDateString())}})),(0,T.jsx)(p.FVH,{className:k}),(0,T.jsx)(j.dbR,{className:N})]})},C=t(1724),F={bookPlaceholder:"TrainingForm_bookPlaceholder__ag4pJ",title:"TrainingForm_title__LaU0d",dateContainer:"TrainingForm_dateContainer__J76s1",bookLabel:"TrainingForm_bookLabel__Auc77",date:"TrainingForm_date__xEjcd",error:"TrainingForm_error__No8mr",bookInput:"TrainingForm_bookInput__HAiIW",arrow:"TrainingForm_arrow__-xFAp",btnAdd:"TrainingForm_btnAdd__59NTI",selectOption:"TrainingForm_selectOption__nYzXz",form:"TrainingForm_form__Qmw18"},L={startDate:"",finishDate:"",books:""},Z=function(e){var n=e.onStartDateChange,t=e.onFinishDateChange,a=e.goingToReadBooks,i=e.onBtnAddClick,o=C.Ry().shape({start:C.hT().required("Enter the first day of training"),finish:C.hT().required("Enter the last day of training"),book:C.Ry().required("Choose one book")}),c=(0,l.$)().t,d=(0,r.useState)(null),u=(0,s.Z)(d,2),h=u[0],_=u[1],m=(0,r.useRef)();return(0,T.jsx)(x.J9,{initialValues:L,validationSchema:o,children:function(e){e.values;var s=e.handleChange;return(0,T.jsxs)(x.l0,{autoComplete:"off",children:[(0,T.jsx)("h1",{className:F.title,children:c("training.myTraining")}),(0,T.jsxs)("div",{className:F.dateContainer,children:[(0,T.jsxs)("div",{className:F.date,children:[(0,T.jsx)(w,{name:"start",minDate:new Date,onChange:function(e){s(e),_(e),n(e)},dateFormat:"dd-MM-yyyy",placeholderText:c("training.start"),autoComplete:"off",required:!0}),(0,T.jsx)("span",{className:F.error,children:(0,T.jsx)(x.Bc,{className:F.eerror,name:"start"})})]}),(0,T.jsxs)("div",{className:F.date,children:[(0,T.jsx)(w,{name:"finish",minDate:new Date(h).setDate(new Date(h).getDate()+1),maxDate:new Date(h).setDate(new Date(h).getDate()+32),onChange:t,dateFormat:"dd-MM-yyyy",placeholderText:c("training.finish"),autoComplete:"off",required:!0}),(0,T.jsx)("span",{className:F.error,children:(0,T.jsx)(x.Bc,{name:"finish"})})]})]}),(0,T.jsxs)("div",{className:F.bookLabel,children:[(0,T.jsxs)(x.gN,{as:"select",name:"book",className:F.bookInput,defaultValue:"default",innerRef:m,children:[(0,T.jsx)("option",{value:"default",className:F.selectOption,disabled:!0,children:c("training.chooseBooks")}),null===a||void 0===a?void 0:a.map((function(e){var n=e._id,t=e.bookTitle;return(0,T.jsx)("option",{value:t,children:t},n)}))]}),(0,T.jsx)("span",{className:F.error,children:(0,T.jsx)(x.Bc,{name:"pages"})}),(0,T.jsx)("button",{type:"button",className:F.btnAdd,onClick:function(){var e=m.current.value;"default"!==e&&e&&i(a.find((function(e){return e.bookTitle===m.current.value})))},children:c("library.add")})]})]})}})},B=t(3263),D={listHeader:"TrainingList_listHeader__p4fA0",header:"TrainingList_header__OXHYa",item:"TrainingList_item__cepZ5",list:"TrainingList_list__CNn7k",itemBook:"TrainingList_itemBook__EOXLL",subtitle:"TrainingList_subtitle__jNKdW",dots:"TrainingList_dots__+1OQP",author:"TrainingList_author__P-Dot",plug:"TrainingList_plug__kEjwN TrainingList_item__cepZ5",trainingWrapper:"TrainingList_trainingWrapper__FAu2J"};var G=t.p+"static/media/sprite.9a6bdf739ef0423fea6eda070916b75c.svg",M=function(e){var n=e.trainingBooks,t=(e.isActiveTraining,e.deleteBookFromList),a=(0,l.$)().t,i=[a("library.title"),a("library.author"),a("library.year"),a("library.pages")];return(0,T.jsxs)("div",{className:D.trainingWrapper,children:[(0,T.jsx)("ul",{className:D.header,children:i.map((function(e){return(0,T.jsx)("li",{className:D.header_item,children:e},e)}))}),(0,T.jsxs)("ul",{className:D.list,children:[null===n||void 0===n?void 0:n.map((function(e,n){var a=e._id,i=e.bookTitle,s=e.author,r=e.amountOfPages,o=e.publicationDate;return(0,T.jsxs)("li",{className:D.item,children:[(0,T.jsx)("svg",{className:D.icon_book,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),(0,T.jsx)("p",{className:D.title,children:i}),(0,T.jsx)("p",{children:s}),(0,T.jsx)("p",{children:o}),(0,T.jsx)("p",{children:r}),(0,T.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){t(a)},className:D.icon_delete,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-delete")})})]},n)})),(0,T.jsxs)("li",{className:D.plug,children:[(0,T.jsx)("svg",{className:D.icon,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),(0,T.jsx)("p",{children:"..."})]})]})]})},A=t(9962),S=t(9894),E={list:"TrainingMobileList_list__zBAF9",infoUp:"TrainingMobileList_infoUp__2L7fp",info:"TrainingMobileList_info__RHkPG",item:"TrainingMobileList_item__NFdvE",list_item:"TrainingMobileList_list_item__Glbj5",icon:"TrainingMobileList_icon__uH0b6",title:"TrainingMobileList_title__QJxdY",subtitle:"TrainingMobileList_subtitle__ukiBh"},R=function(e){var n=e.trainingBooks,t=(e.isActiveTraining,e.deleteBookFromList),a=(0,l.$)().t;return console.log(n.length),(0,T.jsx)("div",{className:E.trainingWrapper,children:(0,T.jsxs)("ul",{className:E.list,children:[!n.length&&(0,T.jsxs)("li",{className:E.list_item,children:[(0,T.jsx)("div",{className:E.infoUp,children:(0,T.jsxs)("p",{className:E.title,children:[(0,T.jsx)("svg",{className:E.icon,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),"..."]})}),(0,T.jsxs)("div",{className:E.info,children:[(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.author"),":"]}),"..."]}),(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.year"),":"]}),"..."]}),(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.pages"),":"]}),"..."]})]})]}),n.map((function(e,n){var i=e._id,s=e.bookTitle,r=e.author,o=e.amountOfPages,l=e.publicationDate;return(0,T.jsxs)("li",{className:E.list_item,children:[(0,T.jsxs)("div",{className:E.infoUp,children:[(0,T.jsxs)("p",{className:E.title,children:[(0,T.jsx)("svg",{className:E.icon,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),s]}),(0,T.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){t(i)},className:E.icon,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-delete")})})]}),(0,T.jsxs)("div",{className:E.info,children:[(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.author"),":"]}),r]}),(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.year"),":"]}),l]}),(0,T.jsxs)("p",{className:E.item,children:[(0,T.jsxs)("span",{className:E.subtitle,children:[a("library.pages"),":"]}),o]})]})]},n)}))]})})},P=t(97),I=t(4215),O=function(e){var n;return null!==(n=e.reduce((function(e,n){return e+n.amountOfPages}),0))&&void 0!==n?n:0},V="TrainingView_training__wyM6o",W="TrainingView_addPageBtn__Sp6RR",U="TrainingView_arrowButton__swzfL",J="TrainingView_wrapperContainer__Kf7rG",$="TrainingView_buttonWrapper__Bda5Q",H=function(){var e,n=(0,r.useState)(null),t=(0,s.Z)(n,2),m=t[0],g=t[1],f=(0,r.useState)(null),x=(0,s.Z)(f,2),p=x[0],j=x[1],b=(0,r.useState)([]),v=(0,s.Z)(b,2),k=v[0],N=v[1],y=(0,r.useState)(0),w=(0,s.Z)(y,2),C=w[0],F=w[1],L=(0,r.useState)(0),D=(0,s.Z)(L,2),G=D[0],E=D[1],H=(0,d.jd)(),q=(0,s.Z)(H,1)[0],z=(0,l.$)().t,Q=(0,r.useState)(!1),K=(0,s.Z)(Q,2),X=K[0],Y=K[1],ee=(0,u.FR)(),ne=ee.data,te=ee.isLoading,ae=(0,o.s0)(),ie=(0,u.k0)(),se=(0,s.Z)(ie,2),re=se[0],oe=se[1].isLoading;(0,r.useEffect)((function(){ne&&ae("/statistics")}),[ae,ne]),(0,r.useEffect)((function(){m&&p&&E((0,I.Z)(m,p))}),[p,m]),(0,r.useEffect)((function(){k.length>0&&G>0?F(Math.round(O(k)/G)):F(0)}),[k,G]);var le=function(e){N(k.filter((function(n){return n._id!==e})))},ce=(0,d.QJ)().data,de=null!==(e=null===ce||void 0===ce?void 0:ce.filter((function(e){return"going_to_read"===e.status})).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{isSelected:!1})})))&&void 0!==e?e:[],ue=(0,P.Z)(),he=!!(m&&p&&k.length>0);return te?(0,T.jsx)(A.Z,{}):(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(h.Z,{children:[(0,T.jsxs)("div",{className:V,children:[!X&&(0,T.jsx)(_.Z,{bookAmount:k.length,daysAmount:G}),(0,T.jsxs)("div",{className:J,children:[(!ue||X)&&(0,T.jsx)(Z,{goingToReadBooks:de.filter((function(e){return!k.map((function(e){return e._id})).includes(e._id)})),onStartDateChange:g,onFinishDateChange:j,onBtnAddClick:function(e){N([].concat((0,i.Z)(k),[(0,a.Z)((0,a.Z)({},e),{},{isSelected:!0})]))}}),!X&&!ue&&(0,T.jsx)(M,{trainingBooks:k,deleteBookFromList:le}),ue&&!X&&(0,T.jsx)(R,{trainingBooks:k,deleteBookFromList:le}),X&&(0,T.jsx)(c.And,{className:U,onClick:function(){return Y(!1)}}),he&&!X&&(0,T.jsx)("div",{className:$,children:(0,T.jsx)(S.Z,{id:"startTraining",className:"main",text:z("training.startTraining"),onClick:function(){re({books:k.map((function(e){return e._id})),startDate:m,finishDate:p}),k.forEach((function(e){q((0,a.Z)((0,a.Z)({},e),{},{id:e._id,status:"reading_now"}))}))},onEnded:oe})})]})]}),!X&&(0,T.jsx)(B.k,{plan:C,readingStatistics:[]}),ue&&!X&&(0,T.jsx)("button",{type:"button",className:W,onClick:function(){return Y(!0)},children:"+"})]})})}}}]);
//# sourceMappingURL=651.015118cf.chunk.js.map