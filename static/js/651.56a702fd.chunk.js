"use strict";(self.webpackChunkbr_frontend=self.webpackChunkbr_frontend||[]).push([[651],{9894:function(e,n,a){a.d(n,{Z:function(){return s}});var t={main:"Button_main__uCMI5",transparent:"Button_transparent__33FBX Button_main__uCMI5"},i=a(184),s=function(e){var n=e.className,a=e.type,s=void 0===a?"button":a,r=e.text,o=e.onClick,l=e.disabled,c=void 0!==l&&l,d=e.tabIndex,u=e.autoFocus;return(0,i.jsx)("button",{className:"".concat(t[n]),type:s,onClick:o||null,disabled:c,tabIndex:d,autoFocus:u,children:r})}},3263:function(e,n,a){a.d(n,{k:function(){return _}});var t=a(3433),i=a(3168),s="Chart_container__F837V",r="Chart_chart__title__2Sd6S",o="Chart_trainigPlan__title__pR5-M",l=a(6305),c=a(9683),d=a(184);l.kL.register(l.uw,l.f$,l.od,l.jn,l.Dx,l.u,l.De);var u=function(e){var n={id:"customLegend",afterDraw:function(n,a,t){var i,s,r=n._metasets,o=n.ctx;o.font="bold 12px Montserat",o.textBaseLine="middle",o.textAlign="center",r.forEach((function(e){o.fillStyle=e._dataset.borderColor,i=e.data[e.data.length-1].x-5*e._dataset.label.length,s=e.data[e.data.length-1].y-10,o.fillText(e._dataset.label,i,s)})),o.fillStyle="#091E3F",o.fillText(e("statistics.time"),i,n.chartArea.height+23)}};return n},_=function(e){var n=e.plan,a=e.readingStatistics,l=(0,i.$)().t,_=a.map((function(e){return e.date})),h=a.map((function(e){return e.pageAmount})),m=1===h.length?[].concat((0,t.Z)(h),(0,t.Z)(h)):h,g=Math.max.apply(Math,(0,t.Z)(m)),f=[n,n];1===_.length&&(f=[].concat((0,t.Z)(_),(0,t.Z)(_))),_.length>1&&(f=_);var x=2*n>g?2*n:g+=.1*g,p={responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:20}},plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!1}},y:{min:0===n?-5:1,max:0===n?5:x,ticks:{display:!1},grid:{display:!1}}}},j={labels:f,datasets:[{label:l("statistics.plan"),data:m.length>0?(0,t.Z)(m.map((function(e){return n}))):[n,n],backgroundColor:"#F5F7FA",borderColor:"rgb(0, 0, 0)",pointBorderColor:"rgb(0, 0, 0)",pointBorderWidth:4}]};return m.length>0&&j.datasets.push({label:"ACT",data:m,backgroundColor:"#F5F7FA",borderColor:"#FF6B08",pointBorderColor:"#FF6B08",pointBorderWidth:4,tension:.3}),(0,d.jsxs)("div",{className:s,children:[(0,d.jsxs)("p",{className:r,children:[l("statistics.amountPagesDay"),(0,d.jsx)("span",{className:o,children:n})]}),(0,d.jsx)(c.x1,{options:p,data:j,plugins:[u(l)]})]})}},8641:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(3168),i={containerTwoGoals:"MyGoals_containerTwoGoals__01LkU",containerThreeGoals:"MyGoals_containerThreeGoals__1EOIQ MyGoals_containerTwoGoals__01LkU MyGoals_containerTwoGoals__01LkU",allTwoGoals:"MyGoals_allTwoGoals__BdKM6",allThreeGoals:"MyGoals_allThreeGoals__RIe0G MyGoals_allTwoGoals__BdKM6",twoGoals:"MyGoals_twoGoals__5FwJw",threeGoals:"MyGoals_threeGoals__J44wd"},s=a(184),r=function(e){var n=e.header,a=e.amount;return(0,s.jsxs)("div",{className:i.twoGoals,children:[(0,s.jsx)("p",{children:a}),(0,s.jsx)("h4",{children:n})]})},o=function(e){var n=e.header,a=e.amount;return(0,s.jsxs)("div",{className:i.threeGoals,children:[(0,s.jsx)("p",{children:a}),(0,s.jsx)("h4",{children:n})]})},l=function(e){var n=e.bookAmount,a=void 0===n?0:n,l=e.daysAmount,c=void 0===l?0:l,d=e.booksLeft,u=void 0===d?0:d,_=e.showBooksLeft,h=void 0!==_&&_,m=(0,t.$)().t,g=u>0?"containerThreeGoals":"containerTwoGoals",f=h?"allThreeGoals":"allTwoGoals";return(0,s.jsxs)("div",{className:i[g],children:[(0,s.jsx)("h2",{children:m("training.myGoals")}),(0,s.jsx)("div",{className:i[f],children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{header:m("training.books"),amount:a}),(0,s.jsx)(o,{header:m("training.days"),amount:c}),(0,s.jsx)(o,{header:m("training.booksLeft"),amount:u})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{header:m("training.books"),amount:a}),(0,s.jsx)(r,{header:m("training.days"),amount:c})]})})]})}},4215:function(e,n){n.Z=function(e,n){return Math.round((new Date(n)-new Date(e))/864e5)}},97:function(e,n,a){var t=a(9439),i=a(2791),s=function(){return window.innerWidth<=767};n.Z=function(){var e=(0,i.useState)(s()),n=(0,t.Z)(e,2),a=n[0],r=n[1];return(0,i.useEffect)((function(){var e=function(){r(s())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}},4651:function(e,n,a){a.r(n),a.d(n,{default:function(){return ne}});var t=a(1413),i=a(3433),s=a(9439),r=a(2791),o=a(7689),l=a(3168),c=a(9126),d=a(7020),u=a(657),_=a(8641),h=a(5987),m=a(9513),g=a.n(m),f=a(5705),x=a(7425),p=a(6036),j=(a(8639),"DatePicker_dateWrapper__W5TMO"),b="DatePicker_dateInput__hpPgD",v="DatePicker_dateIcon__x6LRw",k="DatePicker_dateArrow__RSnRt",N=a(184),T=["onChange"],y=function(e){var n=e.onChange,a=(0,h.Z)(e,T),i=(0,f.u6)().setFieldValue,r=(0,f.U$)(a),o=(0,s.Z)(r,1)[0];return(0,N.jsxs)("div",{className:j,children:[(0,N.jsx)(g(),(0,t.Z)((0,t.Z)((0,t.Z)({className:b},o),a),{},{selected:o.value&&new Date(o.value)||null,onChange:function(e){i(o.name,e),n(e.toDateString())}})),(0,N.jsx)(x.FVH,{className:v}),(0,N.jsx)(p.dbR,{className:k})]})},w=a(1724),L={bookPlaceholder:"TrainingForm_bookPlaceholder__ag4pJ",title:"TrainingForm_title__LaU0d",dateContainer:"TrainingForm_dateContainer__J76s1",bookLabel:"TrainingForm_bookLabel__Auc77",date:"TrainingForm_date__xEjcd",error:"TrainingForm_error__No8mr",bookInput:"TrainingForm_bookInput__HAiIW",arrow:"TrainingForm_arrow__-xFAp",btnAdd:"TrainingForm_btnAdd__59NTI",selectOption:"TrainingForm_selectOption__nYzXz",form:"TrainingForm_form__Qmw18"},C={startDate:"",finishDate:"",books:""},F=function(e){var n=e.onStartDateChange,a=e.onFinishDateChange,t=e.goingToReadBooks,i=e.onBtnAddClick,o=w.Ry().shape({start:w.hT().required("Enter the first day of training"),finish:w.hT().required("Enter the last day of training"),book:w.Ry().required("Choose one book")}),c=(0,l.$)().t,d=(0,r.useState)(null),u=(0,s.Z)(d,2),_=u[0],h=u[1],m=(0,r.useRef)();return(0,N.jsx)(f.J9,{initialValues:C,validationSchema:o,children:function(e){e.values;var s=e.handleChange;return(0,N.jsxs)(f.l0,{autoComplete:"off",children:[(0,N.jsx)("h1",{className:L.title,children:c("training.myTraining")}),(0,N.jsxs)("div",{className:L.dateContainer,children:[(0,N.jsxs)("div",{className:L.date,children:[(0,N.jsx)(y,{name:"start",minDate:new Date,onChange:function(e){s(e),h(e),n(e)},dateFormat:"dd-MM-yyyy",placeholderText:c("training.start"),autoComplete:"off",required:!0}),(0,N.jsx)("span",{className:L.error,children:(0,N.jsx)(f.Bc,{className:L.eerror,name:"start"})})]}),(0,N.jsxs)("div",{className:L.date,children:[(0,N.jsx)(y,{name:"finish",minDate:new Date(_).setDate(new Date(_).getDate()+1),maxDate:new Date(_).setDate(new Date(_).getDate()+32),onChange:a,dateFormat:"dd-MM-yyyy",placeholderText:c("training.finish"),autoComplete:"off",required:!0}),(0,N.jsx)("span",{className:L.error,children:(0,N.jsx)(f.Bc,{name:"finish"})})]})]}),(0,N.jsxs)("div",{className:L.bookLabel,children:[(0,N.jsxs)(f.gN,{as:"select",name:"book",className:L.bookInput,defaultValue:"default",innerRef:m,children:[(0,N.jsx)("option",{value:"default",className:L.selectOption,disabled:!0,children:c("training.chooseBooks")}),null===t||void 0===t?void 0:t.map((function(e){var n=e._id,a=e.bookTitle;return(0,N.jsx)("option",{value:a,children:a},n)}))]}),(0,N.jsx)("span",{className:L.error,children:(0,N.jsx)(f.Bc,{name:"pages"})}),(0,N.jsx)("button",{type:"button",className:L.btnAdd,onClick:function(){var e=m.current.value;"default"!==e&&e&&i(t.find((function(e){return e.bookTitle===m.current.value})))},children:c("library.add")})]})]})}})},Z=a(3263),B={listHeader:"TrainingList_listHeader__p4fA0",header:"TrainingList_header__OXHYa",item:"TrainingList_item__cepZ5",list:"TrainingList_list__CNn7k",itemBook:"TrainingList_itemBook__EOXLL",subtitle:"TrainingList_subtitle__jNKdW",dots:"TrainingList_dots__+1OQP",author:"TrainingList_author__P-Dot",plug:"TrainingList_plug__kEjwN TrainingList_item__cepZ5",delete_button:"TrainingList_delete_button__k3mu2",trainingWrapper:"TrainingList_trainingWrapper__FAu2J"};var D=a.p+"static/media/sprite.9a6bdf739ef0423fea6eda070916b75c.svg",G=function(e){var n=e.trainingBooks,a=(e.isActiveTraining,e.deleteBookFromList),t=(0,l.$)().t,i=[t("library.title"),t("library.author"),t("library.year"),t("library.pages")];return(0,N.jsxs)("div",{className:B.trainingWrapper,children:[(0,N.jsx)("ul",{className:B.header,children:i.map((function(e){return(0,N.jsx)("li",{className:B.header_item,children:e},e)}))}),(0,N.jsxs)("ul",{className:B.list,children:[null===n||void 0===n?void 0:n.map((function(e,n){var t=e._id,i=e.bookTitle,s=e.author,r=e.amountOfPages,o=e.publicationDate;return(0,N.jsxs)("li",{className:B.item,children:[(0,N.jsx)("svg",{className:B.icon_book,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-grey-book")})}),(0,N.jsx)("p",{className:B.title,children:i}),(0,N.jsx)("p",{children:s}),(0,N.jsx)("p",{children:o}),(0,N.jsx)("p",{children:r}),(0,N.jsx)("svg",{type:"button",style:{cursor:"pointer"},id:"delete_button",onClick:function(){a(t)},className:B.icon_delete,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-delete")})})]},n)})),(0,N.jsxs)("li",{className:B.plug,children:[(0,N.jsx)("svg",{className:B.icon,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-grey-book")})}),(0,N.jsx)("p",{children:"..."})]})]})]})},M=a(9962),A=a(9894),S="TrainingMobileList_trainingWrapper__MSsZh",E="TrainingMobileList_list__zBAF9",R="TrainingMobileList_infoUp__2L7fp",P="TrainingMobileList_info__RHkPG",I="TrainingMobileList_item__NFdvE",W="TrainingMobileList_list_item__Glbj5",O="TrainingMobileList_icon__uH0b6",V="TrainingMobileList_title__QJxdY",J="TrainingMobileList_subtitle__ukiBh",$=function(e){var n=e.trainingBooks,a=(e.isActiveTraining,e.deleteBookFromList),t=(0,l.$)().t;return(0,N.jsx)("div",{className:S,children:(0,N.jsxs)("ul",{className:E,children:[!n.length&&(0,N.jsxs)("li",{className:W,children:[(0,N.jsx)("div",{className:R,children:(0,N.jsxs)("p",{className:V,children:[(0,N.jsx)("svg",{className:O,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-grey-book")})}),"..."]})}),(0,N.jsxs)("div",{className:P,children:[(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.author"),":"]}),"..."]}),(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.year"),":"]}),"..."]}),(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.pages"),":"]}),"..."]})]})]}),n.map((function(e,n){var i=e._id,s=e.bookTitle,r=e.author,o=e.amountOfPages,l=e.publicationDate;return(0,N.jsxs)("li",{className:W,children:[(0,N.jsxs)("div",{className:R,children:[(0,N.jsxs)("p",{className:V,children:[(0,N.jsx)("svg",{className:O,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-grey-book")})}),s]}),(0,N.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){a(i)},className:O,width:"22",height:"17",children:(0,N.jsx)("use",{href:"".concat(D,"#icon-delete")})})]}),(0,N.jsxs)("div",{className:P,children:[(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.author"),":"]}),r]}),(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.year"),":"]}),l]}),(0,N.jsxs)("p",{className:I,children:[(0,N.jsxs)("span",{className:J,children:[t("library.pages"),":"]}),o]})]})]},n)}))]})})},H=a(97),z=a(4215),Q=function(e){var n;return null!==(n=e.reduce((function(e,n){return e+n.amountOfPages}),0))&&void 0!==n?n:0},U="TrainingView_container__p+f3p",q="TrainingView_training__wyM6o",K="TrainingView_addPageBtn__Sp6RR",X="TrainingView_arrowButton__swzfL",Y="TrainingView_buttonWrapper__Bda5Q",ee="TrainingView_wrapperContainer__Kf7rG",ne=function(){var e,n=(0,r.useState)(null),a=(0,s.Z)(n,2),h=a[0],m=a[1],g=(0,r.useState)(null),f=(0,s.Z)(g,2),x=f[0],p=f[1],j=(0,r.useState)([]),b=(0,s.Z)(j,2),v=b[0],k=b[1],T=(0,r.useState)(0),y=(0,s.Z)(T,2),w=y[0],L=y[1],C=(0,r.useState)(0),B=(0,s.Z)(C,2),D=B[0],S=B[1],E=(0,d.jd)(),R=(0,s.Z)(E,1)[0],P=(0,l.$)().t,I=(0,r.useState)(!1),W=(0,s.Z)(I,2),O=W[0],V=W[1],J=(0,u.FR)(),ne=J.data,ae=J.isLoading,te=(0,o.s0)(),ie=(0,u.k0)(),se=(0,s.Z)(ie,2),re=se[0],oe=se[1].isLoading;(0,r.useEffect)((function(){ne&&te("/statistics")}),[te,ne]),(0,r.useEffect)((function(){h&&x&&S((0,z.Z)(h,x))}),[x,h]),(0,r.useEffect)((function(){v.length>0&&D>0?L(Math.round(Q(v)/D)):L(0)}),[v,D]);var le=function(e){k(v.filter((function(n){return n._id!==e})))},ce=(0,d.QJ)().data,de=null!==(e=null===ce||void 0===ce?void 0:ce.filter((function(e){return"going_to_read"===e.status})).map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isSelected:!1})})))&&void 0!==e?e:[],ue=(0,H.Z)(),_e=!!(h&&x&&v.length>0);return ae?(0,N.jsx)(M.Z,{}):(0,N.jsxs)("div",{className:U,children:[(0,N.jsxs)("div",{className:q,children:[!O&&(0,N.jsx)(_.Z,{bookAmount:v.length,daysAmount:D}),(0,N.jsxs)("div",{className:ee,children:[(!ue||O)&&(0,N.jsx)(F,{goingToReadBooks:de.filter((function(e){return!v.map((function(e){return e._id})).includes(e._id)})),onStartDateChange:m,onFinishDateChange:p,onBtnAddClick:function(e){k([].concat((0,i.Z)(v),[(0,t.Z)((0,t.Z)({},e),{},{isSelected:!0})]))}}),!O&&!ue&&(0,N.jsx)(G,{trainingBooks:v,deleteBookFromList:le}),ue&&!O&&(0,N.jsx)($,{trainingBooks:v,deleteBookFromList:le}),O&&(0,N.jsx)(c.And,{className:X,onClick:function(){return V(!1)}}),_e&&!O&&(0,N.jsx)("div",{className:Y,children:(0,N.jsx)(A.Z,{id:"startTraining",className:"main",text:P("training.startTraining"),onClick:function(){re({books:v.map((function(e){return e._id})),startDate:h,finishDate:x}),v.forEach((function(e){R((0,t.Z)((0,t.Z)({},e),{},{id:e._id,status:"reading_now"}))}))},onEnded:oe})})]})]}),!O&&(0,N.jsx)(Z.k,{plan:w,readingStatistics:[]}),ue&&!O&&(0,N.jsx)("button",{type:"button",className:K,onClick:function(){return V(!0)},children:"+"})]})}}}]);
//# sourceMappingURL=651.56a702fd.chunk.js.map