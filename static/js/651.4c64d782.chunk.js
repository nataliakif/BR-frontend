"use strict";(self.webpackChunkbr_frontend=self.webpackChunkbr_frontend||[]).push([[651],{9894:function(e,n,a){a.d(n,{Z:function(){return s}});var t={main:"Button_main__uCMI5",transparent:"Button_transparent__33FBX Button_main__uCMI5"},i=a(184),s=function(e){var n=e.className,a=e.type,s=void 0===a?"button":a,r=e.text,o=e.onClick,l=e.disabled,c=void 0!==l&&l,d=e.tabIndex,u=e.autoFocus;return(0,i.jsx)("button",{className:"".concat(t[n]),type:s,onClick:o||null,disabled:c,tabIndex:d,autoFocus:u,children:r})}},3263:function(e,n,a){a.d(n,{k:function(){return _}});var t=a(3433),i=a(3168),s="Chart_chart__KWi2v",r="Chart_chart__title__2Sd6S",o="Chart_trainigPlan__title__pR5-M",l=a(6305),c=a(9683),d=a(184);l.kL.register(l.uw,l.f$,l.od,l.jn,l.Dx,l.u,l.De);var u=function(e){var n={id:"customLegend",afterDraw:function(n,a,t){var i,s,r=n._metasets,o=n.ctx;o.font="bold 12px Montserat",o.textBaseLine="middle",o.textAlign="center",r.forEach((function(e){o.fillStyle=e._dataset.borderColor,i=e.data[e.data.length-1].x-5*e._dataset.label.length,s=e.data[e.data.length-1].y-10,o.fillText(e._dataset.label,i,s)})),o.fillStyle="#091E3F",o.fillText(e("statistics.time"),i,n.chartArea.height+23)}};return n},_=function(e){var n=e.plan,a=e.readingStatistics,l=(0,i.$)().t,_=a.map((function(e){return e.date})),h=a.map((function(e){return e.pageAmount})),m=1===h.length?[].concat((0,t.Z)(h),(0,t.Z)(h)):h,g=Math.max.apply(Math,(0,t.Z)(m)),f=[n,n];1===_.length&&(f=[].concat((0,t.Z)(_),(0,t.Z)(_))),_.length>1&&(f=_);var x=2*n>g?2*n:g+=.1*g,p={responsive:!0,maintainAspectRatio:!1,layout:{padding:{bottom:20}},plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!1}},y:{min:0===n?-5:1,max:0===n?5:x,ticks:{display:!1},grid:{display:!1}}}},j={labels:f,datasets:[{label:l("statistics.plan"),data:m.length>0?(0,t.Z)(m.map((function(e){return n}))):[n,n],backgroundColor:"#F5F7FA",borderColor:"rgb(0, 0, 0)",pointBorderColor:"rgb(0, 0, 0)",pointBorderWidth:4}]};return m.length>0&&j.datasets.push({label:"ACT",data:m,backgroundColor:"#F5F7FA",borderColor:"#FF6B08",pointBorderColor:"#FF6B08",pointBorderWidth:4,tension:.3}),(0,d.jsxs)("div",{className:s,children:[(0,d.jsxs)("p",{className:r,children:[l("statistics.amountPagesDay"),(0,d.jsx)("span",{className:o,children:n})]}),(0,d.jsx)(c.x1,{options:p,data:j,plugins:[u(l)]})]})}},3087:function(e,n,a){a.d(n,{Z:function(){return s}});var t="Container_container__VVOCq",i=a(184),s=function(e){var n=e.children;return(0,i.jsx)("div",{className:t,children:n})}},8641:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(3168),i={containerTwoGoals:"MyGoals_containerTwoGoals__01LkU",containerThreeGoals:"MyGoals_containerThreeGoals__1EOIQ MyGoals_containerTwoGoals__01LkU MyGoals_containerTwoGoals__01LkU",allTwoGoals:"MyGoals_allTwoGoals__BdKM6",allThreeGoals:"MyGoals_allThreeGoals__RIe0G MyGoals_allTwoGoals__BdKM6",twoGoals:"MyGoals_twoGoals__5FwJw",threeGoals:"MyGoals_threeGoals__J44wd"},s=a(184),r=function(e){var n=e.header,a=e.amount;return(0,s.jsxs)("div",{className:i.twoGoals,children:[(0,s.jsx)("p",{children:a}),(0,s.jsx)("h4",{children:n})]})},o=function(e){var n=e.header,a=e.amount;return(0,s.jsxs)("div",{className:i.threeGoals,children:[(0,s.jsx)("p",{children:a}),(0,s.jsx)("h4",{children:n})]})},l=function(e){var n=e.bookAmount,a=void 0===n?0:n,l=e.daysAmount,c=void 0===l?0:l,d=e.booksLeft,u=void 0===d?0:d,_=e.showBooksLeft,h=void 0!==_&&_,m=(0,t.$)().t,g=u>0?"containerThreeGoals":"containerTwoGoals",f=h?"allThreeGoals":"allTwoGoals";return(0,s.jsxs)("div",{className:i[g],children:[(0,s.jsx)("h2",{children:m("training.myGoals")}),(0,s.jsx)("div",{className:i[f],children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{header:m("training.books"),amount:a}),(0,s.jsx)(o,{header:m("training.days"),amount:c}),(0,s.jsx)(o,{header:m("training.booksLeft"),amount:u})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{header:m("training.books"),amount:a}),(0,s.jsx)(r,{header:m("training.days"),amount:c})]})})]})}},4215:function(e,n){n.Z=function(e,n){return Math.round((new Date(n)-new Date(e))/864e5)}},97:function(e,n,a){var t=a(9439),i=a(2791),s=function(){return window.innerWidth<=767};n.Z=function(){var e=(0,i.useState)(s()),n=(0,t.Z)(e,2),a=n[0],r=n[1];return(0,i.useEffect)((function(){var e=function(){r(s())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}},4651:function(e,n,a){a.r(n),a.d(n,{default:function(){return ae}});var t=a(1413),i=a(3433),s=a(9439),r=a(2791),o=a(7689),l=a(3168),c=a(9126),d=a(7020),u=a(657),_=a(3087),h=a(8641),m=a(5987),g=a(9513),f=a.n(g),x=a(5705),p=a(7425),j=a(6036),b=(a(8639),"DatePicker_dateWrapper__W5TMO"),v="DatePicker_dateInput__hpPgD",k="DatePicker_dateIcon__x6LRw",N="DatePicker_dateArrow__RSnRt",T=a(184),y=["onChange"],w=function(e){var n=e.onChange,a=(0,m.Z)(e,y),i=(0,x.u6)().setFieldValue,r=(0,x.U$)(a),o=(0,s.Z)(r,1)[0];return(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)(f(),(0,t.Z)((0,t.Z)((0,t.Z)({className:v},o),a),{},{selected:o.value&&new Date(o.value)||null,onChange:function(e){i(o.name,e),n(e.toDateString())}})),(0,T.jsx)(p.FVH,{className:k}),(0,T.jsx)(j.dbR,{className:N})]})},L=a(1724),C={bookPlaceholder:"TrainingForm_bookPlaceholder__ag4pJ",title:"TrainingForm_title__LaU0d",dateContainer:"TrainingForm_dateContainer__J76s1",bookLabel:"TrainingForm_bookLabel__Auc77",date:"TrainingForm_date__xEjcd",error:"TrainingForm_error__No8mr",bookInput:"TrainingForm_bookInput__HAiIW",arrow:"TrainingForm_arrow__-xFAp",btnAdd:"TrainingForm_btnAdd__59NTI",selectOption:"TrainingForm_selectOption__nYzXz",form:"TrainingForm_form__Qmw18"},F={startDate:"",finishDate:"",books:""},Z=function(e){var n=e.onStartDateChange,a=e.onFinishDateChange,t=e.goingToReadBooks,i=e.onBtnAddClick,o=L.Ry().shape({start:L.hT().required("Enter the first day of training"),finish:L.hT().required("Enter the last day of training"),book:L.Ry().required("Choose one book")}),c=(0,l.$)().t,d=(0,r.useState)(null),u=(0,s.Z)(d,2),_=u[0],h=u[1],m=(0,r.useRef)();return(0,T.jsx)(x.J9,{initialValues:F,validationSchema:o,children:function(e){e.values;var s=e.handleChange;return(0,T.jsxs)(x.l0,{autoComplete:"off",children:[(0,T.jsx)("h1",{className:C.title,children:c("training.myTraining")}),(0,T.jsxs)("div",{className:C.dateContainer,children:[(0,T.jsxs)("div",{className:C.date,children:[(0,T.jsx)(w,{name:"start",minDate:new Date,onChange:function(e){s(e),h(e),n(e)},dateFormat:"dd-MM-yyyy",placeholderText:c("training.start"),autoComplete:"off",required:!0}),(0,T.jsx)("span",{className:C.error,children:(0,T.jsx)(x.Bc,{className:C.eerror,name:"start"})})]}),(0,T.jsxs)("div",{className:C.date,children:[(0,T.jsx)(w,{name:"finish",minDate:new Date(_).setDate(new Date(_).getDate()+1),maxDate:new Date(_).setDate(new Date(_).getDate()+32),onChange:a,dateFormat:"dd-MM-yyyy",placeholderText:c("training.finish"),autoComplete:"off",required:!0}),(0,T.jsx)("span",{className:C.error,children:(0,T.jsx)(x.Bc,{name:"finish"})})]})]}),(0,T.jsxs)("div",{className:C.bookLabel,children:[(0,T.jsxs)(x.gN,{as:"select",name:"book",className:C.bookInput,defaultValue:"default",innerRef:m,children:[(0,T.jsx)("option",{value:"default",className:C.selectOption,disabled:!0,children:c("training.chooseBooks")}),null===t||void 0===t?void 0:t.map((function(e){var n=e._id,a=e.bookTitle;return(0,T.jsx)("option",{value:a,children:a},n)}))]}),(0,T.jsx)("span",{className:C.error,children:(0,T.jsx)(x.Bc,{name:"pages"})}),(0,T.jsx)("button",{type:"button",className:C.btnAdd,onClick:function(){var e=m.current.value;"default"!==e&&e&&i(t.find((function(e){return e.bookTitle===m.current.value})))},children:c("library.add")})]})]})}})},B=a(3263),D={listHeader:"TrainingList_listHeader__p4fA0",header:"TrainingList_header__OXHYa",item:"TrainingList_item__cepZ5",list:"TrainingList_list__CNn7k",itemBook:"TrainingList_itemBook__EOXLL",subtitle:"TrainingList_subtitle__jNKdW",dots:"TrainingList_dots__+1OQP",author:"TrainingList_author__P-Dot",plug:"TrainingList_plug__kEjwN TrainingList_item__cepZ5",delete_button:"TrainingList_delete_button__k3mu2",trainingWrapper:"TrainingList_trainingWrapper__FAu2J"};var G=a.p+"static/media/sprite.9a6bdf739ef0423fea6eda070916b75c.svg",M=function(e){var n=e.trainingBooks,a=(e.isActiveTraining,e.deleteBookFromList),t=(0,l.$)().t,i=[t("library.title"),t("library.author"),t("library.year"),t("library.pages")];return(0,T.jsxs)("div",{className:D.trainingWrapper,children:[(0,T.jsx)("ul",{className:D.header,children:i.map((function(e){return(0,T.jsx)("li",{className:D.header_item,children:e},e)}))}),(0,T.jsxs)("ul",{className:D.list,children:[null===n||void 0===n?void 0:n.map((function(e,n){var t=e._id,i=e.bookTitle,s=e.author,r=e.amountOfPages,o=e.publicationDate;return(0,T.jsxs)("li",{className:D.item,children:[(0,T.jsx)("svg",{className:D.icon_book,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),(0,T.jsx)("p",{className:D.title,children:i}),(0,T.jsx)("p",{children:s}),(0,T.jsx)("p",{children:o}),(0,T.jsx)("p",{children:r}),(0,T.jsx)("svg",{type:"button",style:{cursor:"pointer"},id:"delete_button",onClick:function(){a(t)},className:D.icon_delete,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-delete")})})]},n)})),(0,T.jsxs)("li",{className:D.plug,children:[(0,T.jsx)("svg",{className:D.icon,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),(0,T.jsx)("p",{children:"..."})]})]})]})},A=a(9962),S=a(9894),E="TrainingMobileList_trainingWrapper__MSsZh",R="TrainingMobileList_list__zBAF9",P="TrainingMobileList_infoUp__2L7fp",I="TrainingMobileList_info__RHkPG",W="TrainingMobileList_item__NFdvE",O="TrainingMobileList_list_item__Glbj5",V="TrainingMobileList_icon__uH0b6",J="TrainingMobileList_title__QJxdY",$="TrainingMobileList_subtitle__ukiBh",H=function(e){var n=e.trainingBooks,a=(e.isActiveTraining,e.deleteBookFromList),t=(0,l.$)().t;return(0,T.jsx)("div",{className:E,children:(0,T.jsxs)("ul",{className:R,children:[!n.length&&(0,T.jsxs)("li",{className:O,children:[(0,T.jsx)("div",{className:P,children:(0,T.jsxs)("p",{className:J,children:[(0,T.jsx)("svg",{className:V,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),"..."]})}),(0,T.jsxs)("div",{className:I,children:[(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.author"),":"]}),"..."]}),(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.year"),":"]}),"..."]}),(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.pages"),":"]}),"..."]})]})]}),n.map((function(e,n){var i=e._id,s=e.bookTitle,r=e.author,o=e.amountOfPages,l=e.publicationDate;return(0,T.jsxs)("li",{className:O,children:[(0,T.jsxs)("div",{className:P,children:[(0,T.jsxs)("p",{className:J,children:[(0,T.jsx)("svg",{className:V,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-grey-book")})}),s]}),(0,T.jsx)("svg",{type:"button",id:"delete_button",onClick:function(){a(i)},className:V,width:"22",height:"17",children:(0,T.jsx)("use",{href:"".concat(G,"#icon-delete")})})]}),(0,T.jsxs)("div",{className:I,children:[(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.author"),":"]}),r]}),(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.year"),":"]}),l]}),(0,T.jsxs)("p",{className:W,children:[(0,T.jsxs)("span",{className:$,children:[t("library.pages"),":"]}),o]})]})]},n)}))]})})},q=a(97),z=a(4215),Q=function(e){var n;return null!==(n=e.reduce((function(e,n){return e+n.amountOfPages}),0))&&void 0!==n?n:0},U="TrainingView_training__wyM6o",K="TrainingView_chartContainer__Lg3Xb",X="TrainingView_addPageBtn__Sp6RR",Y="TrainingView_arrowButton__swzfL",ee="TrainingView_buttonWrapper__Bda5Q",ne="TrainingView_wrapperContainer__Kf7rG",ae=function(){var e,n=(0,r.useState)(null),a=(0,s.Z)(n,2),m=a[0],g=a[1],f=(0,r.useState)(null),x=(0,s.Z)(f,2),p=x[0],j=x[1],b=(0,r.useState)([]),v=(0,s.Z)(b,2),k=v[0],N=v[1],y=(0,r.useState)(0),w=(0,s.Z)(y,2),L=w[0],C=w[1],F=(0,r.useState)(0),D=(0,s.Z)(F,2),G=D[0],E=D[1],R=(0,d.jd)(),P=(0,s.Z)(R,1)[0],I=(0,l.$)().t,W=(0,r.useState)(!1),O=(0,s.Z)(W,2),V=O[0],J=O[1],$=(0,u.FR)(),ae=$.data,te=$.isLoading,ie=(0,o.s0)(),se=(0,u.k0)(),re=(0,s.Z)(se,2),oe=re[0],le=re[1].isLoading;(0,r.useEffect)((function(){ae&&ie("/statistics")}),[ie,ae]),(0,r.useEffect)((function(){m&&p&&E((0,z.Z)(m,p))}),[p,m]),(0,r.useEffect)((function(){k.length>0&&G>0?C(Math.round(Q(k)/G)):C(0)}),[k,G]);var ce=function(e){N(k.filter((function(n){return n._id!==e})))},de=(0,d.QJ)().data,ue=null!==(e=null===de||void 0===de?void 0:de.filter((function(e){return"going_to_read"===e.status})).map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{isSelected:!1})})))&&void 0!==e?e:[],_e=(0,q.Z)(),he=!!(m&&p&&k.length>0);return te?(0,T.jsx)(A.Z,{}):(0,T.jsxs)(_.Z,{children:[(0,T.jsxs)("div",{className:U,children:[!V&&(0,T.jsx)(h.Z,{bookAmount:k.length,daysAmount:G}),(0,T.jsxs)("div",{className:ne,children:[(!_e||V)&&(0,T.jsx)(Z,{goingToReadBooks:ue.filter((function(e){return!k.map((function(e){return e._id})).includes(e._id)})),onStartDateChange:g,onFinishDateChange:j,onBtnAddClick:function(e){N([].concat((0,i.Z)(k),[(0,t.Z)((0,t.Z)({},e),{},{isSelected:!0})]))}}),!V&&!_e&&(0,T.jsx)(M,{trainingBooks:k,deleteBookFromList:ce}),_e&&!V&&(0,T.jsx)(H,{trainingBooks:k,deleteBookFromList:ce}),V&&(0,T.jsx)(c.And,{className:Y,onClick:function(){return J(!1)}}),he&&!V&&(0,T.jsx)("div",{className:ee,children:(0,T.jsx)(S.Z,{id:"startTraining",className:"main",text:I("training.startTraining"),onClick:function(){oe({books:k.map((function(e){return e._id})),startDate:m,finishDate:p}),k.forEach((function(e){P((0,t.Z)((0,t.Z)({},e),{},{id:e._id,status:"reading_now"}))}))},onEnded:le})})]})]}),(0,T.jsx)("div",{className:K,children:!V&&(0,T.jsx)(B.k,{plan:L,readingStatistics:[]})}),_e&&!V&&(0,T.jsx)("button",{type:"button",className:X,onClick:function(){return J(!0)},children:"+"})]})}}}]);
//# sourceMappingURL=651.4c64d782.chunk.js.map