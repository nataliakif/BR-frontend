"use strict";(self.webpackChunkbr_frontend=self.webpackChunkbr_frontend||[]).push([[182],{6871:function(e,r,n){n.r(r),n.d(r,{default:function(){return Q}});var t,a=n(5861),i=n(1413),o=n(9439),s=n(5987),l=n(4687),c=n.n(l),m=n(2791),u=n(5048),d=n(1087),p=n(5985),g=n(3168),h=n(5705),_=n(1724),x=n(2430),f=n(7193),v="LoginTimer_changePage__s-hur",j=n(184),L=function(){var e=(0,m.useState)(!1),r=(0,o.Z)(e,2),n=r[0],t=r[1],a=(0,m.useState)(1),i=(0,o.Z)(a,2),s=i[0],l=i[1],c=(0,m.useState)(30),u=(0,o.Z)(c,2),d=u[0],p=u[1],h=(0,g.$)().t;(0,m.useEffect)((function(){if(n){var e=setInterval((function(){return p(d-1)}),1e3);return 0===d&&(l(s-1),p(60)),0===s&&0===d&&t(!1),function(){return clearInterval(e)}}}),[s,d,n]);return(0,j.jsx)(j.Fragment,{children:n?(0,j.jsxs)("span",{children:["\xa0",s<10?"0"+s:s,":",d<10?"0"+d:d]}):(0,j.jsx)("span",{className:v,onClick:function(){t(!0),l(1),p(30)},children:h("LoginForm.newPassword")})})},b=n(2986),w=n(7609),F={container:"LoginForm_container__YDFcb",googleLink:"LoginForm_googleLink__avqDA",form:"LoginForm_form__gPEx5",relative:"LoginForm_relative__irvv0",label:"LoginForm_label__F7sLE",input:"LoginForm_input__aQRtt",errInput:"LoginForm_errInput__3QWea LoginForm_input__aQRtt",btn:"LoginForm_btn__B2KLK",signupLink:"LoginForm_signupLink__KglMR",text:"LoginForm_text__um7cL",errEmail:"LoginForm_errEmail__5XuQW",errPassword:"LoginForm_errPassword__AB54N",errText:"LoginForm_errText__3YH5V",icon:"LoginForm_icon__TSGuZ"},N=n(7020),C=["name","label","htmlFor","error"],k={email:"",password:""},y=function(e){var r=e.name,n=e.label,t=e.htmlFor,a=e.error,l=(0,s.Z)(e,C),c=(0,h.U$)(r),m=(0,o.Z)(c,2),u=m[0],d=m[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("label",{className:F.label,htmlFor:t,children:n}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({className:"".concat(d.error?F.errInput:F.input)},u),l)),(0,j.jsx)(h.Bc,{name:r,render:function(e){return(0,j.jsx)("div",{className:F[a],children:(0,j.jsx)("p",{className:F.errText,children:e})})}})]})},Z=function(){var e=(0,m.useState)(!1),r=(0,o.Z)(e,2),n=r[0],t=r[1],s=(0,x.OQ)(),l=(0,o.Z)(s,1)[0],v=(0,x.Kb)(),C=(0,o.Z)(v,1)[0],Z=(0,u.v9)(f.ts),E=(0,g.$)().t,P=(0,d.lr)(),S=(0,o.Z)(P,1)[0],O=S.get("email"),I=S.get("name"),R=S.get("accessToken"),q=(0,u.I0)(),$=_.Ry().shape({email:_.Z_().matches(/^[^ ]*$/,E("validation.incorrectEmail")).matches(/^[^\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0454\u0404]*$/,E("validation.incorrectEmail")).matches(/^[^-]\S*.@\S*.\.\S*[^-\s]$/,E("validation.incorrectEmail")).min(10,E("validation.emailMin")).max(63,E("validation.emailMax")).required(E("validation.emailRequired")),password:_.Z_().required(E("validation.passwordRequired")).matches(/^[^\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0454\u0404]*$/,E("validation.incorrectPassword")).matches(/^[^.-]\S*$/,E("validation.incorrectPassword")).min(5,E("validation.passwordMin")).max(30,E("validation.passwordMax"))}),T=function(){var e=(0,a.Z)(c().mark((function e(r){var n,t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.email,t=r.password,e.prev=1,e.next=4,l({email:n,password:t}).unwrap();case 4:a=e.sent,q((0,f.Dj)((0,i.Z)({},a.data))),q({type:"".concat(N.Hp.reducerPath,"/invalidateTags"),payload:["Books"]}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),p.Am.error(e.t0.data.message),q((0,f.Dj)({user:{email:n}}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){O&&q((0,f.Dj)({user:{name:I,email:O,token:R}}))}),[R,q,O,l,I]),(0,j.jsxs)("div",{className:F.container,children:[(0,j.jsxs)("a",{className:F.googleLink,href:"https://br-backend.herokuapp.com/auth/google",children:[(0,j.jsx)(b.r,{style:{marginRight:"15px"}}),"Google"]}),(0,j.jsx)(h.J9,{onSubmit:T,initialValues:k,validationSchema:$,children:function(){return(0,j.jsxs)(h.l0,{className:F.form,children:[(0,j.jsx)(y,{name:"email",label:E("RegisterForm.emailLabel"),htmlFor:"email",error:"errEmail",type:"text",placeholder:"your@email.com"}),(0,j.jsxs)("div",{className:F.relative,children:[(0,j.jsx)(y,{name:"password",label:E("RegisterForm.passwordLabel"),htmlFor:"password",error:"errPassword",type:n?"text":"password",placeholder:"...",maxLength:30}),(0,j.jsx)("svg",{className:F.icon,onClick:function(){return t(!n)},children:(0,j.jsx)("use",{href:w.Z+(n?"#icon-noeye":"#icon-eye")})})]}),(0,j.jsx)("button",{className:F.btn,type:"submit",children:E("LoginForm.button")})]})}}),Z?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{className:F.text,children:[(0,j.jsx)("span",{onClick:function(){return C({email:Z})},className:F.signupLink,children:(0,j.jsx)(L,{})}),E("LoginForm.for"),Z]}),(0,j.jsxs)("p",{className:F.text,children:[E("LoginForm.orNew"),(0,j.jsx)(d.rU,{to:"/register",className:F.signupLink,children:E("LoginForm.registration")})]})]}):(0,j.jsx)(d.rU,{to:"/register",className:F.signupLink,children:E("RegisterForm.button")})]})},E=n(3087),P=["title","titleId"];function S(){return S=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},S.apply(this,arguments)}function O(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I(e,r){var n=e.title,a=e.titleId,i=O(e,P);return m.createElement("svg",S({width:23,height:17,viewBox:"0 0 23 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":a},i),n?m.createElement("title",{id:a},n):null,t||(t=m.createElement("path",{d:"M19.8119 0.454997L20.3429 1.281C16.6849 3.68033 14.8559 6.07967 14.8559 8.479C14.8559 9.69833 15.3869 10.4063 16.4489 10.603L18.9269 8.302C19.7135 8.57733 20.4215 9.08867 21.0509 9.836C21.7195 10.544 22.0539 11.4683 22.0539 12.609C22.0539 13.7497 21.6015 14.733 20.6969 15.559C19.7922 16.3457 18.5925 16.739 17.0979 16.739C15.6425 16.739 14.4232 16.2473 13.4399 15.264C12.4959 14.2413 12.0239 12.845 12.0239 11.075C12.0239 7.22033 14.6199 3.68033 19.8119 0.454997ZM8.71986 0.454997L9.25086 1.281C5.59286 3.68033 3.76386 6.07967 3.76386 8.479C3.76386 9.69833 4.29486 10.4063 5.35686 10.603L7.83486 8.302C8.62152 8.57733 9.32952 9.08867 9.95886 9.836C10.6275 10.544 10.9619 11.4683 10.9619 12.609C10.9619 13.7497 10.5095 14.733 9.60486 15.559C8.70019 16.3457 7.50052 16.739 6.00586 16.739C4.55052 16.739 3.33119 16.2473 2.34786 15.264C1.40386 14.2413 0.931856 12.845 0.931856 11.075C0.931856 7.22033 3.52786 3.68033 8.71986 0.454997Z",fill:"#FF6B08"})))}var R=m.forwardRef(I),q=(n.p,"LoginInfoQuote_container__cAiCt"),$="LoginInfoQuote_text__tipPS",T=function(){var e=(0,g.$)().t,r=(0,u.I0)(),n=(0,u.v9)(f.ht);return(0,m.useEffect)((function(){var e=n<10?n+1:1;r((0,f.NN)(e))}),[]),(0,j.jsxs)("div",{className:q,children:[(0,j.jsx)(R,{style:{marginBottom:"15px"}}),(0,j.jsx)("p",{className:$,children:e("quotes.quote".concat([n-1]))}),(0,j.jsx)("hr",{}),(0,j.jsx)("p",{className:$,children:e("quotes.author".concat([n-1]))})]})},B="LoginView_section__TOjXP",M="LoginView_wrapper__wtrEq",Q=function(){return(0,j.jsx)(E.Z,{children:(0,j.jsxs)("div",{className:M,children:[(0,j.jsx)("section",{className:B,children:(0,j.jsx)(Z,{})}),(0,j.jsx)(T,{})]})})}}}]);
//# sourceMappingURL=182.c3fda99d.chunk.js.map